<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mapa de Aventura — 10 niveles 1° grado diferente</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;900&family=Passion+One:wght@700&display=swap" rel="stylesheet">
<style>
  /* -------------------------
     RESET & BASE
     ------------------------- */
  :root{
    --bg-dark: #08030a;
    --glass: rgba(255,255,255,0.06);
    --card-glow: 0 12px 40px rgba(155,92,255,0.18);
    --ui-radius: 14px;
    --ui-padding: 18px;
    --map-height: 72vh;
    --node-size: 110px;
    --node-small: 82px;
    --max-levels: 50;
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg-dark);color:#fff;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
  a{color:inherit}
  button{font-family:inherit}


 body::before{
 body {
    content:"";
  background-image: url("Imagen de WhatsApp 2025-10-29 a las 14.23.04_b66eb026.jpg");
    position:fixed;inset:0;z-index:0;
  background-size: cover;
    background:
  background-repeat: no-repeat;
      radial-gradient(800px 400px at 10% 20%, rgba(155,92,255,0.12), transparent 6%),
  background-attachment: fixed;
      radial-gradient(700px 350px at 85% 80%, rgba(0,229,255,0.08), transparent 8%),
  background-position: center;
      linear-gradient(120deg, #120019, #3b0038 30%, #0a183a 70%, #001825);
}
    filter:contrast(1.05) saturate(1.15);

    transform-origin:center;
    animation: bgShift 18s linear infinite alternate;
    will-change:transform,filter;


}

  @keyframes bgShift{
    0%{transform:scale(1) rotate(0deg)}
    100%{transform:scale(1.02) rotate(.6deg)}
  }

  .particles{position:fixed;inset:0;pointer-events:none;z-index:1;opacity:0.16}
  .particles span{position:absolute;width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.12);box-shadow:0 0 12px rgba(255,255,255,0.06);animation: drift linear infinite}
  @keyframes drift{0%{transform:translateY(0) translateX(0)}100%{transform:translateY(-220px) translateX(60px)}}

 
  .app {
    position:relative;z-index:2;display:flex;flex-direction:column;min-height:100vh;
  }
  header.app-header{
    display:flex;align-items:center;justify-content:space-between;padding:18px 28px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);
    border-bottom:1px solid rgba(255,255,255,0.03);
    backdrop-filter:blur(6px);
    gap:12px;
  }
  .brand {
    display:flex;align-items:center;gap:14px;
  }
  .logo {
    width:48px;height:48px;border-radius:10px;
    background:linear-gradient(135deg,#9b5cff,#00e5ff);
    display:grid;place-items:center;font-weight:900;font-family: "Passion One", cursive;font-size:18px;color:#0b0710;
    box-shadow:0 8px 30px rgba(155,92,255,0.18);
  }
  .title {
    display:flex;flex-direction:column;
    line-height:1;
  }
  .title h1 {margin:0;font-size:18px;letter-spacing:1px}
  .title small {opacity:0.8;font-size:12px}

  .controls {
    display:flex;gap:8px;align-items:center;
  }
  .control-btn{
    background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:10px 14px;border-radius:10px;color:#fff;cursor:pointer;
    transition:transform .14s ease, box-shadow .14s;
  }
  .control-btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(0,0,0,0.45)}
  .progress-wrap{width:280px;display:flex;align-items:center;gap:10px}
  .progress-track{height:8px;background:rgba(255,255,255,0.06);border-radius:8px;overflow:hidden;flex:1}
  .progress-bar{height:100%;width:0;background:linear-gradient(90deg,#76ff03,#00e5ff,#9b5cff);transition:width 600ms cubic-bezier(.2,.9,.2,1)}


  .map-stage{
    position:relative;z-index:3;padding:28px;display:flex;align-items:center;justify-content:center;gap:0;
    height:var(--map-height);overflow:hidden;
  }
  .map-viewport{
    width:92vw;max-width:1600px;height:100%;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
    border-radius:20px;border:1px solid rgba(255,255,255,0.03);position:relative;overflow:hidden;
    box-shadow:var(--card-glow);
    display:flex;align-items:center;
  }

  .map-plane{
    position:absolute;left:0;top:0;height:100%;display:flex;align-items:center;
    gap:40px;padding:48px 120px;will-change:transform;
  }

  .map-path {
    position:absolute;left:0;top:0; width:9999px; height:100%;
    pointer-events:none; opacity:0.9;
  }

  .node {
    position:relative;z-index:6;display:flex;flex-direction:column;align-items:center;gap:8px;
    width:var(--node-size);min-width:var(--node-size);
    transform-origin:center center;
  }
  .node .node-plate{
    width:var(--node-size);height:var(--node-size);border-radius:50%;
    display:grid;place-items:center;font-weight:800;font-size:20px;
    color:#0b0710;background:linear-gradient(135deg,#ffffff,#eeeeee);
    box-shadow:0 14px 40px rgba(0,0,0,0.4), 0 0 20px rgba(0,0,0,0.12) inset;
    border:6px solid rgba(255,255,255,0.04);
    transition:transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s;
    cursor:pointer;
  }
  .node .label {font-weight:700;opacity:0.95;font-size:13px}
  .node .sub {font-size:12px;opacity:0.7}

  .node:hover .node-plate{ transform:translateY(-10px) scale(1.08) rotate(-6deg); box-shadow:0 22px 60px rgba(0,0,0,0.6); }

  .node .img-slot{
    position:absolute;inset:8px;border-radius:50%;overflow:hidden;pointer-events:none;opacity:0.98;
    display:flex;align-items:center;justify-content:center;
  }
  .node img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.05) saturate(1.08)}

  .badge {
    position:absolute;right:-14px;top:-14px;background:rgba(0,0,0,0.6);padding:6px 8px;border-radius:10px;font-size:12px;
    border:1px solid rgba(255,255,255,0.04)
  }

  .grp-1 .node-plate{ background:linear-gradient(135deg,#ffd7ea,#ff9ad5); color:#1a0120; box-shadow:0 20px 50px rgba(255,154,213,0.15); border:4px solid rgba(255,255,255,0.2)}
  .grp-1 .badge{background:rgba(255,150,200,0.12);color:#fff}

  .grp-2 .node-plate{ background:linear-gradient(135deg,#70f7ff,#00a6ff); color:#041426; box-shadow:0 20px 60px rgba(0,229,255,0.12)}
  .grp-2 .badge{background:rgba(0,229,255,0.12)}

  .grp-3 .node-plate{ background:linear-gradient(135deg,#fff07a,#ff7a00); color:#221200; box-shadow:0 20px 60px rgba(255,190,60,0.12)}
  .grp-3 .badge{background:rgba(255,200,80,0.12)}

  .grp-4 .node-plate{ background:linear-gradient(135deg,#ff6bd6,#6b00ff); color:#100018; box-shadow:0 20px 60px rgba(155,92,255,0.16)}
  .grp-4 .badge{background:rgba(155,92,255,0.12)}

  .grp-5 .node-plate{ background:linear-gradient(135deg,#7effc3,#007a66); color:#041916; box-shadow:0 20px 60px rgba(0,200,150,0.12)}
  .grp-5 .badge{background:rgba(0,200,150,0.12)}

  .path-style-1{stroke:#ff8ecf;stroke-opacity:0.9}
  .path-style-2{stroke:#00d8ff;stroke-opacity:0.9}
  .path-style-3{stroke:#ffd36b;stroke-opacity:0.92}
  .path-style-4{stroke:#c77cff;stroke-opacity:0.92}
  .path-style-5{stroke:#4fffd4;stroke-opacity:0.92}

  .legend {position:absolute;left:24px;bottom:18px;z-index:8;background:rgba(0,0,0,0.32);padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04)}
  .legend .group {display:flex;gap:8px;align-items:center;margin:6px 0}
  .legend .swatch {width:18px;height:18px;border-radius:4px}

  @media (max-width:980px){
    :root{--node-size:90px}
    .map-viewport{width:96vw}
  }
  @media (max-width:640px){
    header.app-header{flex-direction:column;align-items:flex-start;gap:8px;padding:14px}
    .title h1{font-size:16px}
    :root{--map-height:66vh;--node-size:78px}
  }
</style>
</head>
<body>
<div class="particles" id="particles"></div>

<div class="app">
  <header class="app-header">
    <div class="brand">
      <div class="logo">BR</div>
      <div class="title">
        <h1>Brainrot — Mapa de Aventura</h1>
        <small>Cada 10 niveles cambia de grado • Haz clic en un nodo para abrir su prueba</small>
      </div>
    </div>

    <div class="controls">
      <div class="progress-wrap" aria-hidden="true">
        <div style="font-size:12px;opacity:0.85">Progreso</div>
        <div class="progress-track" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
          <div class="progress-bar" id="progressBar"></div>
        </div>
      </div>
      <button class="control-btn" id="btnLeft" title="Izquierda">←</button>
      <button class="control-btn" id="btnRight" title="Derecha">→</button>
      <button class="control-btn" id="btnCenter" title="Centrar">•</button>
    </div>
  </header>

  <main class="map-stage" role="main" aria-label="Mapa de aventura">
    <div class="map-viewport" id="viewport">
      <div class="map-plane" id="plane">
        <svg class="map-path" id="mapPathSvg" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
          <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="10" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
          </defs>
          <path id="mapPath" d="" fill="none" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" filter="url(#glow)"></path>
        </svg>
        <!-- (Posible) JS -->
      </div>
    </div>

    <div class="legend" id="legend">
      <div style="font-weight:700;margin-bottom:6px">Grupos (cada 10 niveles)</div>
      <div class="group"><div class="swatch" style="background:linear-gradient(135deg,#ffd7ea,#ff9ad5)"></div><div>1–10 • Sweet Pastel</div></div>
      <div class="group"><div class="swatch" style="background:linear-gradient(135deg,#70f7ff,#00a6ff)"></div><div>11–20 • Neon Ocean</div></div>
      <div class="group"><div class="swatch" style="background:linear-gradient(135deg,#fff07a,#ff7a00)"></div><div>21–30 • Solar Citrus</div></div>
      <div class="group"><div class="swatch" style="background:linear-gradient(135deg,#ff6bd6,#6b00ff)"></div><div>31–40 • Cosmic Magenta</div></div>
      <div class="group"><div class="swatch" style="background:linear-gradient(135deg,#7effc3,#007a66)"></div><div>41–50 • Emerald Night</div></div>
    </div>
  </main>
</div>

<script>

const LEVELS = 50;                 
const PLANE_WIDTH_PER_LEVEL = 320; 
const viewport = document.getElementById('viewport');
const plane = document.getElementById('plane');
const mapPath = document.getElementById('mapPath');
const mapSvg = document.getElementById('mapPathSvg');
const progressBar = document.getElementById('progressBar');

let planeWidth = PLANE_WIDTH_PER_LEVEL * LEVELS + 400;
plane.style.width = planeWidth + 'px';
mapSvg.setAttribute('width', planeWidth);
mapSvg.setAttribute('height', '100%');
mapSvg.style.width = planeWidth + 'px';

function generatePathPoints(levels, width, height){
  const padding = 120;
  const usable = width - 2*padding;
  const band = height*0.5;
  let pts = [];
  for(let i=0;i<levels;i++){
    const t = i / (levels - 1); // 0..1
    const x = padding + t * usable;
    const y = (height*0.5) + Math.sin(t * Math.PI * 2.2) * band * 0.24 + Math.sin(t * Math.PI * 6.3) * band * 0.06;
    pts.push({x, y});
  }
  return pts;
}

function pointsToSvgPath(pts){
  if(pts.length < 2) return '';
  let d = `M ${pts[0].x} ${pts[0].y} `;
  for(let i=0;i<pts.length-1;i++){
    const p0 = pts[i-1] || pts[i];
    const p1 = pts[i];
    const p2 = pts[i+1];
    const p3 = pts[i+2] || p2;
    const cp1x = p1.x + (p2.x - p0.x) / 6;
    const cp1y = p1.y + (p2.y - p0.y) / 6;
    const cp2x = p2.x - (p3.x - p1.x) / 6;
    const cp2y = p2.y - (p3.y - p1.y) / 6;
    d += `C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${p2.x} ${p2.y} `;
  }
  return d;
}

function createNodes(pts){
  pts.forEach((pt, idx) => {
    const i = idx + 1;
    const node = document.createElement('div');
    node.classList.add('node');
    const grp = Math.floor((idx)/10) + 1;
    node.classList.add(`grp-${grp}`);

    node.innerHTML = `
      <div class="node-plate" data-level="${i}" aria-label="Nivel ${i}">
        <div class="img-slot" data-img=""><!-- INSERT IMAGE HERE: set data-img="url" or place <img src='...'/> --></div>
        ${i}
      </div>
      <div class="label">Nivel ${i}</div>
      <div class="sub">Puntos: <span class="pts">—</span></div>
      <div class="badge">G ${grp}</div>
    `;

    node.style.position = 'absolute';
    node.style.left = (pt.x - 56) + 'px';
    node.style.top = (pt.y - 56) + 'px';

    const imgSlot = node.querySelector('.img-slot');

    node.querySelector('.node-plate').addEventListener('click', (e) => {
      const level = e.currentTarget.getAttribute('data-level');
      openLevel(level);
    });

    plane.appendChild(node);
  });
}

function stylePathByGroup(pts){
  
  const segments = [];
  for(let g = 0; g < 5; g++){
    const start = g * 10;
    const end = Math.min(start + 9, pts.length - 1);
    if(start <= end){
      const segPts = pts.slice(start, end + 1);
      segments.push({pts: segPts, group: g+1});
    }
  }

  
  plane.querySelectorAll('.map-seg').forEach(n=>n.remove());
  segments.forEach((seg, idx) => {
    const pathEl = document.createElementNS('http://www.w3.org/2000/svg','path');
    pathEl.setAttribute('d', pointsToSvgPath(seg.pts));
    pathEl.setAttribute('fill','none');
    pathEl.setAttribute('stroke-width','18');
    pathEl.setAttribute('stroke-linecap','round');
    pathEl.setAttribute('stroke-linejoin','round');
    pathEl.classList.add('map-seg');
    const styleClass = `path-style-${seg.group}`;
    pathEl.classList.add(styleClass);
    pathEl.setAttribute('opacity','0.85');
    mapSvg.appendChild(pathEl);

    const highlight = document.createElementNS('http://www.w3.org/2000/svg','path');
    highlight.setAttribute('d', pointsToSvgPath(seg.pts));
    highlight.setAttribute('fill','none');
    highlight.setAttribute('stroke-width','4');
    highlight.setAttribute('stroke-linecap','round');
    highlight.setAttribute('stroke-linejoin','round');
    highlight.setAttribute('opacity','0.7');
    highlight.setAttribute('stroke','#ffffff');
    highlight.style.mixBlendMode = 'overlay';
    highlight.classList.add('map-seg');
    mapSvg.appendChild(highlight);
  });
}

function initMap(){
  const h = viewport.clientHeight;
  const pts = generatePathPoints(LEVELS, planeWidth, h);
  mapSvg.setAttribute('viewBox', `0 0 ${planeWidth} ${h}`);
  mapSvg.setAttribute('preserveAspectRatio','none');

  
  createNodes(pts);

  stylePathByGroup(pts);

  addDecorations();

  centerOnPosition(0);
}

function openLevel(level) {
    const levelNum = parseInt(level, 10); 

    if (levelNum >= 41 && levelNum <= 50) {
        
        window.location.href = "resultados.html";

    } else {
        
        alert(`Abrir prueba / contenido del Nivel ${level} \nEsta es (por ejemplo) una prueba normal.`);
    }
}

function addDecorations(){
  const decos = [
    {x: 400, y: 40, w: 220, h:220, hint:'Mundo pastel — colocar imagen circular o sprite Posibles diseños Cesar'},
    {x: 1200, y: 20, w: 260, h:260, hint:'Portal neón — gif animado Posibles diseños Cesar'},
    {x: 2100, y: 80, w: 200, h:200, hint:'Árbol loco — colocar PNG con transparencia Posibles diseños Cesar'},
    {x: 3000, y: 30, w: 300, h:300, hint:'Mural cosmic — espacio para arte Posibles diseños Cesar'}
  ];
  decos.forEach(d => {
    const el = document.createElement('div');
    el.style.position='absolute';
    el.style.left = d.x + 'px';
    el.style.top = d.y + 'px';
    el.style.width = d.w + 'px';
    el.style.height = d.h + 'px';
    el.style.borderRadius = '18px';
    el.style.overflow = 'hidden';
    el.style.pointerEvents = 'none';
    el.style.zIndex = 4;
    // placeholder visual
    el.innerHTML = `<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;
       background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
       border:2px dashed rgba(255,255,255,0.04);color:rgba(255,255,255,0.6);font-weight:700;font-size:13px;text-align:center;padding:12px">
       ${d.hint}
    </div>`;
    plane.appendChild(el);
  });
}


let state = {x:0, isDown:false, startX:0, currentX:0, maxX:0};
function refreshBounds(){
  const viewportW = viewport.clientWidth;
  const planeW = plane.offsetWidth;
  state.maxX = Math.max(0, planeW - viewportW);
}
refreshBounds();
window.addEventListener('resize', ()=>{ refreshBounds(); });

function setPlaneX(x){
  x = Math.max(0, Math.min(state.maxX, x));
  plane.style.transform = `translateX(${-x}px)`;
  state.x = x;
  const pct = Math.round((x / state.maxX) * 100) || 0;
  progressBar.style.width = pct + '%';
}

viewport.addEventListener('mousedown', (e) => {
  state.isDown = true; state.startX = e.clientX + state.x;
  viewport.style.cursor = 'grabbing';
});
window.addEventListener('mouseup', () => { state.isDown = false; viewport.style.cursor = 'default'; });
window.addEventListener('mousemove', (e) => {
  if(!state.isDown) return;
  const newX = state.startX - e.clientX;
  setPlaneX(newX);
});
viewport.addEventListener('wheel', (e) => {
  e.preventDefault();
  setPlaneX(state.x + e.deltaY * 1.6);
},{passive:false});

document.getElementById('btnLeft').addEventListener('click', ()=> {
  setPlaneX(state.x - 450);
});
document.getElementById('btnRight').addEventListener('click', ()=> {
  setPlaneX(state.x + 450);
});
document.getElementById('btnCenter').addEventListener('click', ()=> {
  setPlaneX(0);
});

plane.addEventListener('click', (e) => {
  const nodePlate = e.target.closest('.node-plate');
  if(!nodePlate) return;
  const node = nodePlate.closest('.node');
  if(!node) return;
 
  const rect = node.getBoundingClientRect();
  const viewRect = viewport.getBoundingClientRect();
  const nodeCenterX = rect.left + rect.width/2;
  const offsetFromViewLeft = nodeCenterX - viewRect.left;
  const targetX = Math.round(state.x + offsetFromViewLeft - (viewRect.width/2));
  setPlaneX(targetX);
});


window.addEventListener('keydown', (e) => {
  if(e.key === 'ArrowLeft') setPlaneX(state.x - 300);
  if(e.key === 'ArrowRight') setPlaneX(state.x + 300);
  if(e.key === 'Home') setPlaneX(0);
  if(e.key === 'End') setPlaneX(state.maxX);
});


function makeParticles(){
  const container = document.getElementById('particles');
  for(let i=0;i<28;i++){
    const s = document.createElement('span');
    s.style.left = Math.random()*100 + '%';
    s.style.top = Math.random()*100 + '%';
    s.style.width = (6 + Math.random()*12) + 'px';
    s.style.height = s.style.width;
    s.style.opacity = (0.05 + Math.random()*0.2);
    s.style.animationDuration = (8 + Math.random()*20) + 's';
    s.style.animationDelay = (Math.random()*-20) + 's';
    container.appendChild(s);
  }
}
makeParticles();


initMap();
refreshBounds();
setPlaneX(0); // start at zero


window.setNodeImage = function(level, url){
  const slot = plane.querySelector(`.node .node-plate[data-level="${level}"]`)?.querySelector('.img-slot');
  if(slot){
    slot.innerHTML = `<img src="${url}" alt="Nivel ${level}">`;
  } else {
    console.warn('No se encontró slot para nivel', level);
  }
};

</script>
</body>
</html>
